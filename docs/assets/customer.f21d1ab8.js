import{c as _,C as c}from"./index.4a759b80.js";const r=_(c.urlSupabase,c.anonBearer);var l,d;const s=(d=(l=r.auth.user())==null?void 0:l.id)!=null?d:"";(!s||s==="")&&(window.location.href="/");var u;(u=document.querySelector("#menuReviewed"))==null||u.addEventListener("click",h);var m;(m=document.querySelector("#menuOrders"))==null||m.addEventListener("click",y);var v;(v=document.querySelector("#menuLogout"))==null||v.addEventListener("click",L);function h(){q(s)}function y(){g(s)}function L(){r.auth.signOut().then(t=>t.error?console.log(t.error):window.location.href="/")}function f(t){var n;const e=(n=document.querySelector("#list-content"))!=null?n:null;e&&(e.innerHTML=t)}function S(t){let e="",n={year:"numeric",month:"long",day:"numeric"};t.forEach(i=>{var o;let a=new Date(i.created_at);e+="<div class='list-item'>",e+="  <div>",e+=a.toLocaleDateString("en-US",n),e+="  </div>",e+="  <div>",e+=(o=i.name)!=null?o:"- no name -",e+="  </div>",e+="  <div>",e+=i.title,e+="  </div>",e+="  <div>",e+=i.score/20,e+="  </div>",e+="</div>"}),f(e)}function p(t){let e="",n={year:"numeric",month:"long",day:"numeric"};t.forEach(i=>{let a=i.sent?"../assets/img/icon_sent.svg":"../assets/img/icon_wait.svg",o=i.sent?"black-to-green-filter":"black-to-yellow-filter",w=new Date(i.created_at);e+="<div class='list-item'>",e+="  <div>",e+=w.toLocaleDateString("en-US",n),e+="  </div>",e+="  <div>",e+=i.email,e+="  </div>",e+="  <div>",e+=`    <img src='${a}' class='${o}' width=40px height=40px>`,e+="  </div>",e+="</div>"}),f(e)}async function q(t){if(t==="")return;const{data:e,error:n}=await r.from("reviews").select().eq("user_id",s).order("created_at",{ascending:!1}).limit(10);n?console.log(n.message):S(e)}async function g(t,e){if(t==="")return;const{data:n,error:i}=await r.from("orders").select().eq("user_id",s).order("created_at",{ascending:!1}).limit(15);i?console.log(i.message):p(n)}g(s);
