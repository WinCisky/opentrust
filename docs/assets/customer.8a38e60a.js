import{c as h,C as a}from"./index.65e6a27d.js";/* empty css             */const _=""+new URL("icon_sent.575f91f5.svg",import.meta.url).href,y=""+new URL("icon_wait.05ce8f12.svg",import.meta.url).href,s=h(a.urlSupabase,a.anonBearer);var l,d;const o=(d=(l=s.auth.user())==null?void 0:l.id)!=null?d:"";(!o||o==="")&&(window.location.href="/");var u;(u=document.querySelector("#menuReviewed"))==null||u.addEventListener("click",L);var m;(m=document.querySelector("#menuOrders"))==null||m.addEventListener("click",p);var f;(f=document.querySelector("#menuLogout"))==null||f.addEventListener("click",S);function L(){k(o)}function p(){g(o)}function S(){s.auth.signOut().then(t=>t.error?console.log(t.error):window.location.href="/")}function v(t){var i;const e=(i=document.querySelector("#list-content"))!=null?i:null;e&&(e.innerHTML=t)}function q(t){let e="",i={year:"numeric",month:"long",day:"numeric"};t.forEach(n=>{var r;let c=new Date(n.created_at);e+="<div class='list-item'>",e+="  <div>",e+=c.toLocaleDateString("en-US",i),e+="  </div>",e+="  <div>",e+=(r=n.name)!=null?r:"- no name -",e+="  </div>",e+="  <div>",e+=n.title,e+="  </div>",e+="  <div>",e+=n.score/20,e+="  </div>",e+="</div>"}),v(e)}function R(t){let e="",i={year:"numeric",month:"long",day:"numeric"};t.forEach(n=>{let c=n.sent?_:y,r=n.sent?"black-to-green-filter":"black-to-yellow-filter",w=new Date(n.created_at);e+="<div class='list-item'>",e+="  <div>",e+=w.toLocaleDateString("en-US",i),e+="  </div>",e+="  <div>",e+=n.email,e+="  </div>",e+="  <div>",e+=`    <img src='${c}' class='${r}' width=40px height=40px>`,e+="  </div>",e+="</div>"}),v(e)}async function k(t){if(t==="")return;const{data:e,error:i}=await s.from("reviews").select().eq("user_id",o).order("created_at",{ascending:!1}).limit(10);i?console.log(i.message):q(e)}async function g(t,e){if(t==="")return;const{data:i,error:n}=await s.from("orders").select().eq("user_id",o).order("created_at",{ascending:!1}).limit(15);n?console.log(n.message):R(i)}g(o);
