var m=Object.defineProperty;var p=(n,e,t)=>e in n?m(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var c=(n,e,t)=>(p(n,typeof e!="symbol"?e+"":e,t),t);function r(n){const e=document.getElementById("central-content"),t=document.getElementById("loading-animation");n?(e==null||e.classList.add("disabled"),t&&(t.style.display="inline")):(e==null||e.classList.remove("disabled"),t&&(t.style.display="none"))}function i(n){const e=document.getElementById("status-message");e&&(e.style.display="inline",e.innerHTML=n)}async function h(n){const e=new TextEncoder().encode(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(l=>l.toString(16).padStart(2,"0")).join("")}class a{}c(a,"urlRegitration","https://gjclmptpvaepykpghadl.functions.supabase.co/opentrust/userRegistration"),c(a,"urlLogin","https://gjclmptpvaepykpghadl.functions.supabase.co/opentrust/userLogin"),c(a,"anonBearer","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdqY2xtcHRwdmFlcHlrcGdoYWRsIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NTY3OTQ4OTksImV4cCI6MTk3MjM3MDg5OX0.n-WN4gsTP7HgmXjnupOtu-j0fj2hIiACEhy3NagJZt4");function f(){const n=document.getElementById("g-recaptcha-response").value;if(n){const e=document.getElementById("user-email").value;r(!0),fetch(a.urlRegitration,{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.anonBearer}`},body:JSON.stringify({email:e,recaptcha:n})}).then(function(t){return r(!1),t.json()}).then(function(t){console.log(t);const o=t.success,s=t.message;o?window.location.href="/mailcheck/":i(s)})}else i("recaptcha not accepted")}function y(){const n=document.getElementById("g-recaptcha-response").value;if(n){const e=document.getElementById("user-email").value,t=document.getElementById("user-password").value;r(!0),h(t).then(o=>{console.log(o),fetch(a.urlLogin,{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.anonBearer}`},body:JSON.stringify({email:e,recaptcha:n,hashedPassword:o})}).then(function(s){return r(!1),s.json()}).then(function(s){console.log(s);const l=s.success,d=s.message;i(d)})})}else i("recaptcha not accepted")}var u;(u=document.querySelector("#loginForm"))==null||u.addEventListener("click",y);var g;(g=document.querySelector("#registrationForm"))==null||g.addEventListener("click",f);
